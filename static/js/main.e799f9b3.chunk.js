(this["webpackJsonpmovies-explorer-frontend"]=this["webpackJsonpmovies-explorer-frontend"]||[]).push([[0],Array(24).concat([function(e,t,a){},function(e,t,a){},,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var i=a(1),s=a.n(i),r=a(18),n=a.n(r),c=a(3),o=(a(24),a(2)),l=a(4),d=a(57),m=(a(25),"http://localhost:4000"),j=s.a.createContext(""),u=a(0),b=function(e){var t=Object.assign({},e),a=t.properties;return Object(u.jsx)(l.b,{children:function(){return t.isLogged?t.components.map((function(e,t){var i={};for(var r in a[t])i[String(r)]=a[t][r];return s.a.createElement(e,i)})):Object(u.jsx)(l.a,{path:"/signin"})}})},h=(a(32),function(){return Object(u.jsx)("div",{className:"preloader",children:Object(u.jsx)("div",{className:"preloader__container",children:Object(u.jsx)("span",{className:"preloader__round"})})})});a(33);var _=function(e){return Object(i.useEffect)((function(){e.emailError||e.passwordError||e.nameError?e.setFormValid(!1):e.setFormValid(!0)}),[e.emailError,e.passwordError,e.nameError]),Object(u.jsxs)("section",{className:"register",children:[!0===e.isLoading?Object(u.jsx)(h,{}):"",Object(u.jsxs)("form",{className:"register__form",method:"POST",onSubmit:e.handlerRegisterSubmit,children:[Object(u.jsxs)("div",{className:"register__form_container",children:[Object(u.jsx)("label",{className:"register__form_label",htmlFor:"name",children:"\u0418\u043c\u044f"}),Object(u.jsx)("input",{className:"register__form_input",disabled:e.blockForm,onChange:function(t){return e.nameHandler(t)},onBlur:function(t){return e.blurHandler(t)},id:"name",name:"name",type:"text",required:!0,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f"}),e.nameInvalid&&e.nameError&&Object(u.jsx)("div",{className:"register__form_input-error",children:e.nameError})]}),Object(u.jsxs)("div",{className:"register__form_container",children:[Object(u.jsx)("label",{className:"register__form_label",htmlFor:"email",children:"E-mail"}),Object(u.jsx)("input",{className:"register__form_input",disabled:e.blockForm,onChange:function(t){return e.emailHandler(t)},onBlur:function(t){return e.blurHandler(t)},id:"email",name:"email",type:"email",required:!0,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u0443"}),e.emailInvalid&&e.emailError&&Object(u.jsx)("div",{className:"register__form_input-error",children:e.emailError})]}),Object(u.jsxs)("div",{className:"register__form_container",children:[Object(u.jsx)("label",{className:"register__form_label",htmlFor:"password",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(u.jsx)("input",{className:"register__form_input",disabled:e.blockForm,onChange:function(t){return e.passwordHandler(t)},onBlur:function(t){return e.blurHandler(t)},id:"password",name:"password",type:"password",required:!0,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"}),e.passwordInvalid&&e.passwordError&&Object(u.jsx)("div",{className:"register__form_input-error",children:e.passwordError})]}),Object(u.jsxs)("div",{className:"register__form_submit-container",children:[""!==e.registerError?Object(u.jsx)("div",{className:"register__form_submit-error",children:e.registerError}):"",Object(u.jsx)("button",{className:"register__form_submit",type:"submit",disabled:!e.formValid,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(u.jsxs)("h2",{className:"register__form_text",children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?",Object(u.jsx)(c.b,{to:"/signin",className:"register__form_login",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})]})]})};a(34);var O=function(e){return Object(i.useEffect)((function(){e.emailError||e.passwordError?e.setFormValid(!1):e.setFormValid(!0)}),[e.emailError,e.passwordError]),Object(u.jsxs)("section",{className:"login",children:[!0===e.isLoading?Object(u.jsx)(h,{}):"",Object(u.jsxs)("form",{className:"login__form",method:"POST",onSubmit:e.handlerLoginSubmit,children:[Object(u.jsxs)("div",{className:"login__form_container",children:[Object(u.jsx)("label",{className:"login__form_label",htmlFor:"email",children:"E-mail"}),Object(u.jsx)("input",{className:"login__form_input",disabled:e.blockForm,onChange:function(t){return e.emailHandler(t)},onBlur:function(t){return e.blurHandler(t)},id:"email",name:"email",type:"email",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u0443"}),e.emailInvalid&&e.emailError&&Object(u.jsx)("div",{className:"login__form_input-error",children:e.emailError})]}),Object(u.jsxs)("div",{className:"login__form_container",children:[Object(u.jsx)("label",{className:"login__form_label",htmlFor:"password",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(u.jsx)("input",{className:"login__form_input",disabled:e.blockForm,onChange:function(t){return e.passwordHandler(t)},onBlur:function(t){return e.blurHandler(t)},id:"password",name:"password",type:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"}),e.passwordInvalid&&e.passwordError&&Object(u.jsx)("div",{className:"login__form_input-error",children:e.passwordError})]}),Object(u.jsxs)("div",{className:"login__form_submit-container",children:[""!==e.loginError?Object(u.jsx)("div",{className:"login__form_submit-error",children:e.loginError}):"",Object(u.jsx)("button",{className:"login__form_submit",type:"submit",disabled:!e.formValid,children:"\u0412\u043e\u0439\u0442\u0438"}),Object(u.jsxs)("h2",{className:"login__form_text",children:["\u0415\u0449\u0435 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?",Object(u.jsx)(c.b,{to:"/signup",className:"login__form_register",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})]})]})]})},v=(a(35),a(36),a.p+"static/media/landing-logo.3446dc06.svg");var f=function(){return Object(u.jsxs)("section",{className:"promo",children:[Object(u.jsxs)("div",{className:"promo__container",children:[Object(u.jsx)("h1",{className:"promo__container_title",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442\u0430 \u0412\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"}),Object(u.jsx)("p",{className:"promo__container_text",children:"\u041b\u0438\u0441\u0442\u0430\u0439\u0442\u0435 \u043d\u0438\u0436\u0435, \u0447\u0442\u043e\u0431\u044b \u0443\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u043f\u0440\u043e \u044d\u0442\u043e\u0442 \u043f\u0440\u043e\u0435\u043a\u0442 \u0438 \u0435\u0433\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044f"}),Object(u.jsx)("button",{className:"promo__container_button",children:"\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435"})]}),Object(u.jsx)("img",{className:"promo__image",src:v,alt:"\u041b\u043e\u0433\u043e"})]})};a(37);var g=function(){return Object(u.jsxs)("section",{className:"about-project",children:[Object(u.jsx)("h2",{className:"about-project__title",children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"}),Object(u.jsxs)("div",{className:"about-project__stages",children:[Object(u.jsx)("h3",{className:"about-project__subtitle",children:"\u0414\u0438\u043f\u043b\u043e\u043c\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u043b 5 \u044d\u0442\u0430\u043f\u043e\u0432"}),Object(u.jsx)("p",{className:"about-project__text",children:"\u0421\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043b\u0430\u043d\u0430, \u0440\u0430\u0431\u043e\u0442\u0443 \u043d\u0430\u0434 \u0431\u044d\u043a\u0435\u043d\u0434\u043e\u043c, \u0432\u0451\u0440\u0441\u0442\u043a\u0443, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438 \u0444\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438."})]}),Object(u.jsxs)("div",{className:"about-project__time",children:[Object(u.jsx)("h3",{className:"about-project__subtitle",children:"\u041d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0434\u0438\u043f\u043b\u043e\u043c\u0430 \u0443\u0448\u043b\u043e 5 \u043d\u0435\u0434\u0435\u043b\u044c"}),Object(u.jsx)("p",{className:"about-project__text",children:"\u0423 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u043f\u0430 \u0431\u044b\u043b \u043c\u044f\u0433\u043a\u0438\u0439 \u0438 \u0436\u0451\u0441\u0442\u043a\u0438\u0439 \u0434\u0435\u0434\u043b\u0430\u0439\u043d, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0443\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0441\u043e\u0431\u043b\u044e\u0434\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0449\u0438\u0442\u0438\u0442\u044c\u0441\u044f."})]}),Object(u.jsxs)("div",{className:"about-project__timeline",children:[Object(u.jsxs)("div",{className:"about-project__backend",children:[Object(u.jsx)("p",{className:"about-project__backend_subtitle",children:"1 \u043d\u0435\u0434\u0435\u043b\u044f"}),Object(u.jsx)("p",{className:"about-project__backend_text",children:"backend"})]}),Object(u.jsxs)("div",{className:"about-project__frontend",children:[Object(u.jsx)("p",{className:"about-project__frontend_subtitle",children:"4 \u043d\u0435\u0434\u0435\u043b\u0438"}),Object(u.jsx)("p",{className:"about-project__frontend_text",children:"frontend"})]})]})]})};a(38);var x=function(){return Object(u.jsxs)("section",{className:"techs",children:[Object(u.jsx)("h2",{className:"techs__title",children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"}),Object(u.jsx)("h3",{className:"techs__subtitle",children:"7 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0439"}),Object(u.jsx)("p",{className:"techs__text",children:"\u041d\u0430 \u043a\u0443\u0440\u0441\u0435 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043c\u044b \u043e\u0441\u0432\u043e\u0438\u043b\u0438 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043b\u0438 \u0432 \u0434\u0438\u043f\u043b\u043e\u043c\u043d\u043e\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435."}),Object(u.jsxs)("div",{className:"techs__container",children:[Object(u.jsx)("div",{className:"techs__skill",children:"HTML"}),Object(u.jsx)("div",{className:"techs__skill",children:"CSS"}),Object(u.jsx)("div",{className:"techs__skill",children:"JS"}),Object(u.jsx)("div",{className:"techs__skill",children:"React"}),Object(u.jsx)("div",{className:"techs__skill",children:"Git"}),Object(u.jsx)("div",{className:"techs__skill",children:"Express.js"}),Object(u.jsx)("div",{className:"techs__skill",children:"mongoDB"})]})]})},p=(a(39),a.p+"static/media/vladimir.olegovich.4aaea2ff.JPG");var N=function(){return Object(u.jsxs)("section",{className:"aboutMe",children:[Object(u.jsx)("h2",{className:"aboutMe__title",children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"}),Object(u.jsxs)("div",{className:"aboutMe__container",children:[Object(u.jsxs)("div",{className:"aboutMe__info",children:[Object(u.jsx)("h3",{className:"aboutMe__name",children:"\u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440"}),Object(u.jsx)("h4",{className:"aboutMe__profession",children:"\u0424\u0440\u043e\u043d\u0442\u0435\u043d\u0434-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a, 31 \u0433\u043e\u0434"}),Object(u.jsx)("p",{className:"abourMe__text",children:'\u042f \u0440\u043e\u0434\u0438\u043b\u0441\u044f \u0438 \u0436\u0438\u0432\u0443 \u0432 \u041c\u043e\u0441\u043a\u0432\u0435. \u0416\u0435\u043d\u0430\u0442. \u0417\u0430\u043a\u043e\u043d\u0447\u0438\u043b \u0413\u0435\u043e\u0434\u0435\u0437\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442 \u041c\u0418\u0418\u0413\u0410\u0438\u041a \u043f\u043e \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438: "\u041f\u0440\u0438\u043a\u043b\u0430\u0434\u043d\u0430\u044f \u0433\u0435\u043e\u0434\u0435\u0437\u0438\u044f". \u0423\u0432\u043b\u0435\u043a\u0430\u044e\u0441\u044c \u0441\u043f\u043e\u0440\u0442\u043e\u043c, \u0448\u0430\u0445\u043c\u0430\u0442\u0430\u043c\u0438, \u043b\u044e\u0431\u043b\u044e \u043f\u0440\u043e\u0433\u0443\u043b\u043a\u0438 \u043d\u0430 \u0441\u0432\u0435\u0436\u0435\u043c \u0432\u043e\u0437\u0434\u0443\u0445\u0435, \u043a\u0438\u043d\u043e \u0438 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u043d\u044b\u0435 \u0438\u0433\u0440\u044b. \u0421 2013 \u0433\u043e\u0434\u0430 \u0440\u0430\u0431\u043e\u0442\u0430\u043b \u043f\u043e \u043f\u0440\u043e\u0444\u0435\u0441\u0438\u0438. \u0412 2020 \u0433\u043e\u0434\u0443 \u043d\u0430\u0447\u0430\u043b \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u0435 \u0432 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c\u0435 \u043f\u043e \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0412\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a.'}),Object(u.jsxs)("div",{className:"aboutMe__links",children:[Object(u.jsx)("a",{className:"aboutMe__link",href:"https://github.com/At0m234",target:"/blank",children:"Github"}),Object(u.jsx)("a",{className:"aboutMe__link",href:"https://www.instagram.com/vladimir.olegovich90/",target:"/blank",children:"Instagram"})]})]}),Object(u.jsx)("img",{className:"aboutMe__photo",src:p,alt:"\u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440"})]})]})},k=(a(40),a.p+"static/media/arrow.54da24f4.svg");var S=function(){return Object(u.jsxs)("section",{className:"portfolio",children:[Object(u.jsx)("h2",{className:"portfolio__title",children:"\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e"}),Object(u.jsxs)("div",{className:"portfolio__links",children:[Object(u.jsxs)("a",{href:"https://github.com/At0m234/how-to-learn-second",className:"portfolio__link",target:"/blank",children:["\u0421\u0442\u0430\u0442\u0438\u0447\u043d\u044b\u0439 \u0441\u0430\u0439\u0442",Object(u.jsx)("img",{src:k,alt:"\u0421\u0442\u0440\u0435\u043b\u043a\u0430"})]}),Object(u.jsxs)("a",{href:"https://github.com/At0m234/russian-travel",className:"portfolio__link",target:"/blank",children:["\u0410\u0434\u0430\u043f\u0442\u0438\u0432\u043d\u044b\u0439 \u0441\u0430\u0439\u0442",Object(u.jsx)("img",{src:k,alt:"\u0421\u0442\u0440\u0435\u043b\u043a\u0430"})]}),Object(u.jsxs)("a",{href:"https://github.com/At0m234/react-mesto-app",className:"portfolio__link",target:"/blank",children:["\u041e\u0434\u043d\u043e\u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435",Object(u.jsx)("img",{src:k,alt:"\u0421\u0442\u0440\u0435\u043b\u043a\u0430"})]})]})]})};var M=function(){return Object(u.jsxs)("main",{className:"main",children:[Object(u.jsx)(f,{}),Object(u.jsx)(g,{}),Object(u.jsx)(x,{}),Object(u.jsx)(N,{}),Object(u.jsx)(S,{})]})},I=(a(41),a(42),a.p+"static/media/search-icon.c7cf1b72.svg");a(43);var w=function(e){return Object(u.jsx)("div",{className:"filter-checkbox",children:Object(u.jsxs)("label",{className:"filter-checkbox__container",htmlFor:"checkbox",children:[Object(u.jsx)("input",{className:"filter-checkbox_invisible",onClick:function(t){e.filterCheckBoxOn?e.setFilterCheckBoxOn(!1):e.setFilterCheckBoxOn(!0)},type:"checkbox",id:"checkbox",value:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438"}),Object(u.jsx)("span",{className:"filter-checkbox_visible"}),Object(u.jsx)("span",{className:"filter-checkbox_text",children:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438"})]})})};var E=function(e){return Object(u.jsxs)("form",{className:"searchForm",noValidate:!0,onSubmit:e.onSearchMoviesFormSubmit,children:[Object(u.jsxs)("div",{className:"searchForm__container",children:[Object(u.jsx)("img",{className:"searchForm__container_image",src:I,alt:"\u041b\u0443\u043f\u0430"}),Object(u.jsx)("input",{className:"searchForm__container_input",onBlur:function(t){return e.blurHandler(t)},onChange:function(t){return e.hadnlefilmInputSearchChange(t)},type:"text",placeholder:"\u0424\u0438\u043b\u044c\u043c",name:"filmInput",value:e.filmInput,required:!0,pattern:"[A-Za-z\u0410-\u042f\u0430-\u044f\u0401\u04510-9 -]{1,40}"}),Object(u.jsx)("button",{className:"searchForm__container_btn"})]}),e.filmInputSearchInvalid&&e.filmInputSearchError&&Object(u.jsx)("div",{className:"searchForm__container_input-error",children:e.filmInputSearchError}),Object(u.jsx)("hr",{className:"searchForm__container_underline"}),Object(u.jsx)(w,{filterCheckBoxOn:e.filterCheckBoxOn,setFilterCheckBoxOn:e.setFilterCheckBoxOn})]})};a(44),a(45);var C=function(e){function t(){e.setAllMovies(e.allMovies.map((function(t,a){return e.card.id===t.id?(t.liked=!1,t):t}))),localStorage.setItem("allMovies",JSON.stringify(e.allMovies))}function a(){e.setAllMovies(e.allMovies.map((function(t,a){return e.card.id===t.id?(t.liked=!0,t):t}))),e.setSavedMovies(e.savedMovies.map((function(t,a){return e.card.id===t.id?(t.liked=!0,t):t}))),localStorage.setItem("savedMovies",JSON.stringify(e.savedMovies))}return Object(u.jsxs)("div",{className:"movies-card",children:[Object(u.jsx)("a",{href:e.card.trailerLink,target:"/blank",children:Object(u.jsx)("img",{className:"movies-card__image",src:e.card.image.url?e.card.image.url:"",alt:e.card.nameEN})}),Object(u.jsxs)("div",{className:"movies-card__container",children:[Object(u.jsx)("h2",{className:"movies-card__container_title",children:e.card.nameRU}),e.card.liked&&!0===e.card.liked?Object(u.jsx)("button",{className:"movies-card__container_btn movies-card__container_btn-liked",onClick:function(){return e.dislikeMovie(e.card,t)}}):Object(u.jsx)("button",{className:"movies-card__container_btn movies-card__container_btn-like",onClick:function(){return e.likeMovie(e.card,a)}})]}),Object(u.jsx)("p",{className:"movies-card__duration",children:function(e){var t=e/60,a=e%60/60,i=e%60;return Math.ceil(t-a)+" \u0447 "+i+" \u043c"}(e.card.duration)})]})};var F=function(e){return Object(u.jsx)("div",{className:"movies-card-list",children:!0===e.isLoading?Object(u.jsx)(h,{}):e.cards.length>0?e.cards.map((function(t,a){if(a<e.cardsVisible)return Object(u.jsx)(C,{card:t,allMovies:e.allMovies,setAllMovies:e.setAllMovies,trailerLink:t.trailerLink,src:t.image.url,nameRU:t.nameRU,nameEN:t.nameEN,duration:t.duration,savedMovies:e.savedMovies,setSavedMovies:e.setSavedMovies,liked:e.liked,setLiked:e.setLiked,likeMovie:e.likeMovie,dislikeMovie:e.dislikeMovie},t.id)})):e.errorFound?Object(u.jsxs)("h2",{className:"movies-card-list__error",children:["\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430.",Object(u.jsx)("br",{}),"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435\u043c \u0438\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d.",Object(u.jsx)("br",{}),"\u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437"]}):e.firstSearch&&0===e.cards.length?Object(u.jsx)("h2",{className:"movies-card-list__error",children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"}):""})};var L=function(e){return Object(i.useEffect)((function(){e.setIsOnSaved(!1)})),Object(u.jsxs)("section",{className:"movies",children:[Object(u.jsx)(E,{hadnlefilmInputSearchChange:e.hadnlefilmInputSearchChange,onSearchMoviesFormSubmit:e.onSearchMoviesFormSubmit,filmInputSearchInvalid:e.filmInputSearchInvalid,setFilmInputSearchInvalid:e.setFilmInputSearchInvalid,filmInputSearchError:e.filmInputSearchError,setFilmInputSearchError:e.setFilmInputSearchError,filterCheckBoxOn:e.filterCheckBoxOn,setFilterCheckBoxOn:e.setFilterCheckBoxOn,blurHandler:e.blurHandler}),Object(u.jsx)(F,{cards:e.cards,allMovies:e.allMovies,setAllMovies:e.setAllMovies,errorFound:e.errorFound,cardsVisible:e.cardsVisible,savedMovies:e.savedMovies,setSavedMovies:e.setSavedMovies,liked:e.liked,setLiked:e.setLiked,likeMovie:e.likeMovie,dislikeMovie:e.dislikeMovie,isLoading:e.isLoading,firstSearch:e.firstSearch}),!1===e.isLoading&&e.cardsVisible<e.cards.length?Object(u.jsx)("div",{className:"movies__container",children:Object(u.jsx)("button",{className:"movies__add-mov-btn",onClick:function(){e.setCardsVisible(e.windowWidth>1281?e.cardsVisible+4:e.windowWidth>1024&&e.windowWidth<1280?e.cardsVisible+3:e.windowWidth>481&&e.windowWidth<1024||e.windowWidth>50&&e.windowWidth<480?e.cardsVisible+2:e.card)},children:"\u0415\u0449\u0451"})}):""]})};a(46),a(47),a(48);var B=function(e){function t(){e.setSavedMovies(e.savedMovies.filter((function(t,a){return e.card.id!==t.id}))),localStorage.setItem("savedMovies",JSON.stringify(e.savedMovies)),e.setAllMovies(e.allMovies.map((function(t,a){return e.card.id===t.id?(t.liked=!1,t):t})))}return Object(u.jsxs)("div",{className:"saved-movies-card",children:[Object(u.jsx)("a",{href:e.card.trailerLink,target:"/blank",children:Object(u.jsx)("img",{className:"saved-movies-card__image",src:e.card.image.url?e.card.image.url:"",alt:e.card.nameEN})}),Object(u.jsxs)("div",{className:"saved-movies-card__container",children:[Object(u.jsx)("h2",{className:"saved-movies-card__container_title",children:e.card.nameRU}),Object(u.jsx)("button",{className:"saved-movies-card__container_btn saved-movies-card__container_btn-remove",onClick:function(){return e.dislikeMovie(e.card,t)}})]}),Object(u.jsx)("p",{className:"saved-movies-card__duration",children:function(e){var t=e/60,a=e%60/60,i=e%60;return Math.ceil(t-a)+" \u0447 "+i+" \u043c"}(e.card.duration)})]})};var y=function(e){return Object(u.jsx)("div",{className:"saved-movies-card-list",children:e.savedMovies.length>0?e.savedMovies.map((function(t){return Object(u.jsx)(B,{card:t,trailer:t.trailerLink,src:t.image,nameRU:t.nameRU,nameEN:t.nameEN,duration:t.duration,liked:e.liked,likedMovie:e.likedMovie,savedMovies:e.savedMovies,allMovies:e.allMovies,setAllMovies:e.setAllMovies,setSavedMovies:e.setSavedMovies,likeMovie:e.likeMovie,dislikeMovie:e.dislikeMovie},t.movieId)})):Object(u.jsx)("div",{className:"saved-movies-card-list__message",children:"\u0423 \u0412\u0430\u0441 \u043d\u0435\u0442 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0445 \u0444\u0438\u043b\u044c\u043c\u043e\u0432"})})};var H=function(e){return Object(i.useEffect)((function(){e.setIsOnSaved(!0)})),Object(u.jsxs)("section",{className:"saved-movies",children:[Object(u.jsx)(E,{hadnlefilmInputSearchChange:e.hadnlefilmInputSearchChange,onSearchMoviesFormSubmit:e.onSearchMoviesFormSubmit,filmInputSearchInvalid:e.filmInputSearchInvalid,setFilmInputSearchInvalid:e.setFilmInputSearchInvalid,filmInputSearchError:e.filmInputSearchError,setFilmInputSearchError:e.setFilmInputSearchError,filterCheckBoxOn:e.filterCheckBoxOn,setFilterCheckBoxOn:e.setFilterCheckBoxOn,blurHandler:e.blurHandler}),Object(u.jsx)(y,{cards:e.cards,savedMovies:e.savedMovies,setSavedMovies:e.setSavedMovies,cardsVisible:e.cardsVisible,setCardsVisible:e.setCardsVisible,allMovies:e.allMovies,setAllMovies:e.setAllMovies,liked:e.liked,setLiked:e.setLiked,likeMovie:e.likeMovie,dislikeMovie:e.dislikeMovie})]})};a(49);var V=function(e){return Object(i.useEffect)((function(){e.setEditFormValid(!0)}),[e.emailError,e.nameError]),Object(u.jsxs)("section",{className:"profile",children:[Object(u.jsx)("h1",{className:"profile__greeting-title",children:"\u041f\u0440\u0438\u0432\u0435\u0442, "+e.currentUser.name+"!"}),Object(u.jsxs)("form",{className:"profile__info",children:[Object(u.jsx)("p",{className:"profile__info_text",children:"\u0418\u043c\u044f"}),e.isEditing?Object(u.jsx)("input",{className:"profile__info_user",onChange:function(t){e.nameHandler(t)},onBlur:function(t){return e.blurHandler(t)},name:"name"}):Object(u.jsx)("input",{className:"profile__info_user",disabled:!0,onBlur:function(t){return e.blurHandler(t)},name:"name",value:e.currentUser.name}),Object(u.jsx)("div",{}),e.nameInvalid&&e.nameError&&Object(u.jsx)("div",{className:"profile__info_user-error",children:e.nameError})]}),Object(u.jsx)("hr",{className:"profile__info_line"}),Object(u.jsxs)("form",{className:"profile__info",children:[Object(u.jsx)("p",{className:"profile__info_text",children:"\u041f\u043e\u0447\u0442\u0430"}),e.isEditing?Object(u.jsx)("input",{className:"profile__info_user",onChange:function(t){e.emailHandler(t)},onBlur:function(t){return e.blurHandler(t)},name:"email"}):Object(u.jsx)("input",{className:"profile__info_user",disabled:!0,onBlur:function(t){return e.blurHandler(t)},name:"email",value:e.currentUser.email}),Object(u.jsx)("div",{}),e.emailInvalid&&e.emailError&&Object(u.jsx)("div",{className:"profile__info_user-error",children:e.emailError})]}),!0===e.isLoading?Object(u.jsx)(h,{}):"",!0===e.editError?Object(u.jsx)("div",{className:"profile__info_submit-error",children:e.editMessage}):Object(u.jsx)("div",{className:"profile__info_submit-success",children:e.editMessage}),Object(u.jsx)("button",{className:"profile__edit-btn",onClick:e.handleEditProfileBtn,disabled:!e.editFormValid,children:e.isEditing?"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(u.jsx)(c.c,{to:"/",className:"profile__signout-btn",onClick:e.onSignOut,children:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"})]})},A=(a(50),a.p+"static/media/logo.5e99a335.svg");a(51);var J=function(e){function t(t){e.setFilterCheckBoxOn(!1)}return Object(u.jsxs)("nav",{className:"navigation",children:[Object(u.jsx)(c.c,{to:"/movies",className:"navigation__link",onClick:function(e){t()},children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(u.jsx)(c.c,{to:"/saved-movies",className:"navigation__link",onClick:function(e){t()},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"})]})};a(52);var U=function(){var e=Object(i.useState)(!1),t=Object(o.a)(e,2),a=t[0],s=t[1];function r(){s(!1)}return!1===a?Object(u.jsx)("div",{className:"gamburger-menu",children:Object(u.jsx)("button",{className:"gamburger-menu__btn",onClick:function(){s(!0)},children:Object(u.jsx)("span",{})})}):Object(u.jsxs)("div",{className:"gamburger-menu",children:[Object(u.jsx)("div",{className:"gamburger-menu__container gamburger-menu__container_overlay",onClick:r,children:Object(u.jsxs)("nav",{className:"gamburger-menu__links gamburger-menu__links_active",children:[Object(u.jsx)(c.c,{className:"gamburger-menu__link",exact:!0,to:"/",onClick:r,children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(u.jsx)(c.c,{className:"gamburger-menu__link",to:"/movies",onClick:r,children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(u.jsx)(c.c,{className:"gamburger-menu__link",to:"/saved-movies",onClick:r,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"}),Object(u.jsx)(c.c,{className:"gamburger-menu__link",to:"/profile",onClick:r,children:Object(u.jsx)("button",{className:"gamburger-menu__link_btn"})})]})}),Object(u.jsx)("button",{className:"gamburger-menu__btn gamburger-menu__btn_active",onClick:r,children:Object(u.jsx)("span",{})})]})};var T=function(e){return Object(i.useEffect)((function(){}),[e.windowWidth]),Object(u.jsx)("header",{className:"header",children:!0===e.isLogged?Object(u.jsx)(l.d,{children:Object(u.jsx)(l.b,{path:"/",children:Object(u.jsxs)("div",{className:"header__profile-container",children:[Object(u.jsx)(c.b,{to:"/",children:Object(u.jsx)("img",{className:"header__logo",src:A,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f"})}),Object(u.jsx)(J,{setFilterCheckBoxOn:e.setFilterCheckBoxOn}),1279===e.windowWidth||e.windowWidth<1279?Object(u.jsx)(U,{}):Object(u.jsx)(c.c,{to:"/profile",className:"gamburger-menu__link_btn"})]})})}):Object(u.jsxs)(l.d,{children:[Object(u.jsx)(l.b,{exact:!0,path:"/",children:Object(u.jsxs)("div",{className:"header__main-container",children:[Object(u.jsx)(c.b,{to:"/",children:Object(u.jsx)("img",{className:"header__logo",src:A,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f"})}),Object(u.jsxs)("div",{className:"header__btns_container",children:[Object(u.jsx)(c.c,{to:"/signup",className:"header__register",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(u.jsx)(c.c,{to:"/signin",className:"header__login",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})}),Object(u.jsx)(l.b,{exact:!0,path:"/signup",children:Object(u.jsxs)("div",{className:"header__sign-container",children:[Object(u.jsx)(c.b,{to:"/",children:Object(u.jsx)("img",{className:"header__logo",src:A,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f"})}),Object(u.jsx)("h1",{className:"header__sign-title_text",children:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!"})]})}),Object(u.jsx)(l.b,{exact:!0,path:"/signin",children:Object(u.jsxs)("div",{className:"header__sign-container",children:[Object(u.jsx)(c.b,{to:"/",children:Object(u.jsx)("img",{className:"header__logo",src:A,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f"})}),Object(u.jsx)("h1",{className:"header__sign-title_text",children:"\u0420\u0430\u0434\u044b \u0432\u0438\u0434\u0435\u0442\u044c!"})]})})]})})};a(53);var W=function(){return Object(u.jsx)("footer",{className:"footer",children:Object(u.jsxs)("div",{className:"footer__info",children:[Object(u.jsx)("h2",{className:"footer__title",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c \u0445 BeatFilm."}),Object(u.jsxs)("div",{className:"footer__container",children:[Object(u.jsx)("h3",{className:"footer__author",children:"\u0418\u043b\u044c\u0438\u043d \u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440 \u041e\u043b\u0435\u0433\u043e\u0432\u0438\u0447 \xa92021"}),Object(u.jsxs)("nav",{className:"footer__links",children:[Object(u.jsx)("a",{className:"footer__link",href:"https://praktikum.yandex.ru/",target:"/black",children:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c"}),Object(u.jsx)("a",{className:"footer__link",href:"https://github.com/At0m234",target:"/black",children:"Github"}),Object(u.jsx)("a",{className:"footer__link",href:"https://www.instagram.com/vladimir.olegovich90/",target:"/black",children:"Instagram"})]})]})]})})};a(54);var R=function(){var e=Object(l.g)();return Object(u.jsxs)("section",{className:"not-found",children:[Object(u.jsx)("h1",{className:"not-found__error",children:"404"}),Object(u.jsx)("h2",{className:"not-found__text",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"}),Object(u.jsx)("button",{className:"not-found__submit",type:"submit",onClick:function(){return e.goBack()},children:"\u041d\u0430\u0437\u0430\u0434"})]})};var P=function(){var e=Object(i.useState)(!1),t=Object(o.a)(e,2),a=t[0],s=t[1],r=Object(i.useState)({}),n=Object(o.a)(r,2),c=n[0],h=n[1],v=Object(i.useState)(!!localStorage.getItem("token")),f=Object(o.a)(v,2),g=f[0],x=f[1],p=Object(i.useState)(!1),N=Object(o.a)(p,2),k=N[0],S=N[1],I=Object(i.useState)([]),w=Object(o.a)(I,2),E=w[0],C=w[1],F=Object(i.useState)(!1),B=Object(o.a)(F,2),y=B[0],A=B[1],J=Object(i.useState)([]),U=Object(o.a)(J,2),P=U[0],z=U[1],D=Object(i.useState)([]),G=Object(o.a)(D,2),q=(G[0],G[1]),Z=Object(i.useState)(!1),$=Object(o.a)(Z,2),K=$[0],Q=$[1],X=Object(i.useState)(!1),Y=Object(o.a)(X,2),ee=Y[0],te=Y[1],ae=Object(i.useState)(16),ie=Object(o.a)(ae,2),se=ie[0],re=ie[1],ne=Object(i.useState)(""),ce=Object(o.a)(ne,2),oe=ce[0],le=ce[1],de=Object(i.useState)(""),me=Object(o.a)(de,2),je=me[0],ue=me[1],be=Object(i.useState)(""),he=Object(o.a)(be,2),_e=he[0],Oe=he[1],ve=Object(i.useState)(!1),fe=Object(o.a)(ve,2),ge=fe[0],xe=fe[1],pe=Object(i.useState)(!1),Ne=Object(o.a)(pe,2),ke=Ne[0],Se=Ne[1],Me=Object(i.useState)(!1),Ie=Object(o.a)(Me,2),we=Ie[0],Ee=Ie[1],Ce=Object(i.useState)('\u041f\u043e\u043b\u0435 "\u0418\u043c\u044f" \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c'),Fe=Object(o.a)(Ce,2),Le=Fe[0],Be=Fe[1],ye=Object(i.useState)('\u041f\u043e\u043b\u0435 "E-mail" \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c'),He=Object(o.a)(ye,2),Ve=He[0],Ae=He[1],Je=Object(i.useState)('\u041f\u043e\u043b\u0435 "\u041f\u0430\u0440\u043e\u043b\u044c" \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c'),Ue=Object(o.a)(Je,2),Te=Ue[0],We=Ue[1],Re=Object(i.useState)(!1),Pe=Object(o.a)(Re,2),ze=Pe[0],De=Pe[1],Ge=Object(i.useState)(!1),qe=Object(o.a)(Ge,2),Ze=qe[0],$e=qe[1],Ke=Object(i.useState)(""),Qe=Object(o.a)(Ke,2),Xe=Qe[0],Ye=Qe[1],et=Object(i.useState)(""),tt=Object(o.a)(et,2),at=tt[0],it=tt[1],st=Object(i.useState)(""),rt=Object(o.a)(st,2),nt=rt[0],ct=rt[1],ot=Object(i.useState)(!1),lt=Object(o.a)(ot,2),dt=lt[0],mt=lt[1],jt=Object(i.useState)(!1),ut=Object(o.a)(jt,2),bt=ut[0],ht=ut[1],_t=Object(i.useState)(!0),Ot=Object(o.a)(_t,2),vt=Ot[0],ft=Ot[1],gt=Object(i.useState)(""),xt=Object(o.a)(gt,2),pt=xt[0],Nt=xt[1],kt=Object(i.useState)(!1),St=Object(o.a)(kt,2),Mt=St[0],It=St[1],wt=Object(i.useState)("\u041d\u0443\u0436\u043d\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u0435 \u0441\u043b\u043e\u0432\u043e"),Et=Object(o.a)(wt,2),Ct=Et[0],Ft=Et[1],Lt=Object(i.useState)(!1),Bt=Object(o.a)(Lt,2),yt=Bt[0],Ht=Bt[1],Vt=Object(l.g)(),At=Object(i.useState)(d.a.get("window").width),Jt=Object(o.a)(At,2),Ut=Jt[0],Tt=Jt[1];window.addEventListener("resize",(function(){Tt(d.a.get("window").width)}),!1),Object(i.useEffect)((function(){Ut>1281&&re(16),Ut>769&&Ut<1280&&re(12),Ut>481&&Ut<768&&re(8),Ut>50&&Ut<480&&re(5),localStorage.getItem("savedMovies")&&z(JSON.parse(localStorage.getItem("savedMovies")))}),[Ut]),Object(i.useEffect)((function(){Zt(pt),q(Wt(localStorage.getItem("savedMovies")?JSON.parse(localStorage.getItem("savedMovies")):[],pt))}),[yt]),Object(i.useEffect)((function(){q(Wt(localStorage.getItem("savedMovies")?JSON.parse(localStorage.getItem("savedMovies")):[],pt)),localStorage.getItem("savedMovies")&&q(JSON.parse(localStorage.getItem("savedMovies"))),localStorage.getItem("token")&&(x(!0),h(JSON.parse(localStorage.getItem("currentUser"))),le(JSON.parse(localStorage.getItem("currentUser")).name),ue(JSON.parse(localStorage.getItem("currentUser")).email))}),[]);var Wt=function(e,t){return""===t?e:$t(e)},Rt=function(e){switch(e.target.name){case"email":Se(!0);break;case"password":Ee(!0);break;case"name":xe(!0);break;case"filmInput":It(!0)}},Pt=function(e){ue(e.target.value);/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{1,}))$/.test(String(e.target.value).toLowerCase())?Ae(""):Ae("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 E-mail")},zt=function(e){Oe(e.target.value),e.target.value.length<8?(We("\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),e.target.value||We("\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c")):We("")},Dt=function(e){le(e.target.value),(e.target.value.length<2||e.target.value.length>30)&&(Be('\u041f\u043e\u043b\u0435 "\u0418\u043c\u044f" \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043e\u0442 2 \u0434\u043e 30 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432'),e.target.value?Be(""):Be('\u041f\u043e\u043b\u0435 "\u0418\u043c\u044f" \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c'))};function Gt(e){var t=e.name,a=e.email,i=e.password;te(!0),function(e,t,a){return fetch("".concat(m,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:e,email:t,password:a})}).then((function(e){return console.log(e),e.json()}))}(t,a,i).then((function(e){e.data&&(h({email:e.data.email,name:e.data.name}),$e(!1),localStorage.setItem("currentUser",JSON.stringify({email:e.data.email,name:e.data.name})),te(!1),Vt.push("/signin")),te(!1),it(e.message)})).catch((function(e){console.log(e),te(!1)}))}function qt(e){var t=e.email,a=e.password;te(!0),function(e,t){return fetch("".concat(m,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then((function(e){return console.log(e),e.json()}))}(t,a).then((function(e){e.token&&(Ye(""),x(!0),$e(!1),localStorage.setItem("token",e.token),te(!1),Vt.push("/movies")),Ye(e.message),te(!1)})).catch((function(e){console.log(e),te(!1)}))}function Zt(e){e&&(te(!0),localStorage.getItem("allMovies")&&0!==JSON.parse(localStorage.getItem("allMovies")).length?C($t(JSON.parse(localStorage.getItem("allMovies")))):(localStorage.getItem("token"),fetch("".concat("https://api.nomoreparties.co/beatfilm-movies"),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.ok?e.json():Promise.reject("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a: ".concat(e.status))})).then((function(e){return e.map((function(e){return e.image?e.image.url="https://api.nomoreparties.co"+e.image.url:e.image={url:""},e})),e}))).then((function(e){localStorage.setItem("allMovies",JSON.stringify(e)),C($t(e))})).catch((function(e){Q(!0),te(!1),console.log(e)})))}function $t(e){var t=e.filter((function(e){if(yt){if(e.duration<=40){if(e.nameRU&&e.nameRU.trim().toLowerCase().includes(pt.trim().toLowerCase()))return e;if(e.nameEN&&e.nameEN.trim().toLowerCase().includes(pt.trim().toLowerCase()))return e}}else{if(e.nameRU&&e.nameRU.trim().toLowerCase().includes(pt.trim().toLowerCase()))return e;if(e.nameEN&&e.nameEN.trim().toLowerCase().includes(pt.trim().toLowerCase()))return e}return t}));return te(!1),Ut>1279&&re(16),Ut>767&&Ut<1279&&re(12),Ut>480&&Ut<767&&re(8),Ut>320&&Ut<480&&re(5),t}function Kt(e){Nt(e.target.value)}function Qt(e){if(e.preventDefault(),pt||(It(!0),Ft("\u041d\u0443\u0436\u043d\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u0435 \u0441\u043b\u043e\u0432\u043e")),pt){return/[A-Za-z\u0410-\u042f\u0430-\u044f\u0401\u04510-9 -]{1,40}/.test(pt.toLowerCase())?(Ft(""),It(!1),S(!0),void(a?(q(Wt(localStorage.getItem("savedMovies")?JSON.parse(localStorage.getItem("savedMovies")):[],pt)),te(!1)):Zt(pt))):(It(!0),void Ft("\u0412\u0432\u0435\u0434\u0435\u043d\u044b \u043d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b"))}}function Xt(e,t){(function(e,t){return fetch("".concat(m,"/movies"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",authorization:"Bearer ".concat(t)},body:JSON.stringify({country:e.country,director:e.director,duration:e.duration,year:e.year,description:e.description,image:e.image,trailerLink:e.trailerLink,nameRU:e.nameRU,nameEN:e.nameEN,movieId:e.id})}).then((function(e){return e.ok?e.json():Promise.reject("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a: ".concat(e.status))})).catch((function(e){console.log(e)}))})(e,localStorage.getItem("token")).then((function(e){if(e){var a=P;e.id=e.movieId,a.push(e),t(),z(a),localStorage.setItem("savedMovies",JSON.stringify(a))}}))}function Yt(e,t){var a,i;(a=e.id,i=localStorage.getItem("token"),fetch("".concat(m,"/movies/").concat(a),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",authorization:"Bearer ".concat(i)}}).then((function(e){return e.ok?e.json():Promise.reject("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a: ".concat(e.status))})).catch((function(e){console.log(e)}))).then((function(a){if(a){var i=P;i=i.filter((function(t){return t.id!==e.id})),t(),z(i),localStorage.setItem("savedMovies",JSON.stringify(i))}}))}return Object(u.jsx)(j.Provider,{value:c,children:Object(u.jsx)("div",{className:"app",children:Object(u.jsxs)(l.d,{children:[Object(u.jsxs)(l.b,{exact:!0,path:"/",children:[Object(u.jsx)(T,{windowWidth:Ut,isLogged:g,setFilterCheckBoxOn:Ht}),Object(u.jsx)(M,{}),Object(u.jsx)(W,{})]}),Object(u.jsx)(l.b,{exact:!0,path:"/signup",children:!0===g?Object(u.jsx)(l.a,{to:"/"}):Object(u.jsxs)(l.b,{exact:!0,path:"/signup",children:[Object(u.jsx)(T,{windowWidth:Ut,isLogged:g,setFilterCheckBoxOn:Ht}),Object(u.jsx)(_,{name:oe,nameInvalid:ge,nameError:Le,nameHandler:Dt,email:je,emailInvalid:ke,emailError:Ve,emailHandler:Pt,password:_e,passwordInvalid:we,passwordError:Te,passwordHandler:zt,formValid:ze,setFormValid:De,blurHandler:Rt,onRegister:Gt,handlerRegisterSubmit:function(e){e.preventDefault(),$e(!0),Gt({name:oe,email:je,password:_e})},registerError:at,blockForm:Ze,isLoading:ee})]})}),Object(u.jsx)(l.b,{exact:!0,path:"/signin",children:!0===g?Object(u.jsx)(l.a,{to:"/"}):Object(u.jsxs)(l.b,{exact:!0,path:"/signin",children:[Object(u.jsx)(T,{windowWidth:Ut,isLogged:g,setFilterCheckBoxOn:Ht}),Object(u.jsx)(O,{email:je,emailInvalid:ke,emailError:Ve,emailHandler:Pt,password:_e,passwordInvalid:we,passwordError:Te,passwordHandler:zt,formValid:ze,setFormValid:De,blurHandler:Rt,onLogin:qt,handlerLoginSubmit:function(e){e.preventDefault(),$e(!0),qt({email:je,password:_e})},loginError:Xe,blockForm:Ze,isLoading:ee})]})}),Object(u.jsx)(b,{path:"/movies",isLogged:g,components:[T,L,W],properties:[{setFilterCheckBoxOn:Ht,windowWidth:Ut,isLogged:g},{setIsOnSaved:s,cards:E,errorFound:K,isLoading:ee,cardsVisible:se,setCardsVisible:re,allMovies:E,setAllMovies:C,savedMovies:P,setSavedMovies:z,liked:y,setLiked:A,likeMovie:Xt,dislikeMovie:Yt,firstSearch:k,windowWidth:Ut,filterCheckBoxOn:yt,setFilterCheckBoxOn:Ht,hadnlefilmInputSearchChange:Kt,onSearchMoviesFormSubmit:Qt,filmInputSearchInvalid:Mt,setFilmInputSearchInvalid:It,filmInputSearchError:Ct,setFilmInputSearchError:Ft,blurHandler:Rt},{}]}),Object(u.jsx)(b,{exact:!0,path:"/saved-movies",isLogged:g,components:[T,H,W],properties:[{windowWidth:Ut,isLogged:g,setFilterCheckBoxOn:Ht},{setIsOnSaved:s,savedMovies:P,setSavedMovies:z,allMovies:E,cardsVisible:se,setCardsVisible:re,setAllMovies:C,likeMovie:Xt,dislikeMovie:Yt,filterCheckBoxOn:yt,setFilterCheckBoxOn:Ht,hadnlefilmInputSearchChange:Kt,onSearchMoviesFormSubmit:Qt,filmInputSearchInvalid:Mt,setFilmInputSearchInvalid:It,filmInputSearchError:Ct,setFilmInputSearchError:Ft,blurHandler:Rt},{}]}),Object(u.jsx)(b,{exact:!0,path:"/profile",isLogged:g,components:[T,V],properties:[{windowWidth:Ut,isLogged:g,setFilterCheckBoxOn:Ht},{currentUser:c,name:oe,nameInvalid:ge,nameError:Le,nameHandler:Dt,email:je,emailInvalid:ke,emailError:Ve,emailHandler:Pt,isEditing:bt,editFormValid:vt,setEditFormValid:ft,blurHandler:Rt,handleEditProfileBtn:function(e){e.preventDefault(),bt?vt&&(te(!0),function(e,t){var a=e.name,i=e.email;return fetch("".concat(m,"/users/me"),{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json",authorization:"Bearer ".concat(t)},body:JSON.stringify({name:a,email:i})}).then((function(e){return e.json()})).then((function(e){return e}))}({name:oe,email:je},localStorage.getItem("token")).then((function(e){e.email&&e.name?(ht(!1),h({email:e.email,name:e.name}),localStorage.setItem("currentUser",JSON.stringify({email:e.email,name:e.name})),mt(!1),ct("\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b"),te(!1)):ht(!1),ht(!1)})).catch((function(e){ct("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435"),mt(!0),ht(!1),te(!1),console.log(e)}))):(ht(!0),te(!1))},onSignOut:function(){localStorage.removeItem("token"),x(!1),Vt.push("/")},editMessage:nt,editError:dt,isLoading:ee}]}),Object(u.jsx)(b,{exact:!0,path:"/*",isLogged:g,components:[R],properties:[{}]})]})})})},z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,58)).then((function(t){var a=t.getCLS,i=t.getFID,s=t.getFCP,r=t.getLCP,n=t.getTTFB;a(e),i(e),s(e),r(e),n(e)}))};n.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(c.a,{children:Object(u.jsx)(P,{})})}),document.getElementById("root")),z()}]),[[55,1,2]]]);
//# sourceMappingURL=main.e799f9b3.chunk.js.map